<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Argument Mining</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.prod.min.js"></script>
<style>
body, html {
height: 100%;
margin: 0;
 }
.full-center {
min-height: 100vh;
 }
.form-control {
background-color: #414141;
 }
.form-control::placeholder {
color: white;
opacity: 1;
 }
</style>
</head>
<body class="bg-dark text-light d-flex justify-content-center align-items-center full-center">

<div id="app">
  <div class="text-center w-100 px-3" style="max-width: 900px;">
    <!-- Header Text -->
    <h2 class="fw-light mb-3">Let's mine some arguments!</h2>
    <p class="text-white mb-4">
     Analyse argumentative structures, identify claims and premises in your text with LLM-powered analysis.
    </p>
    
    <div class="card bg-dark border-0">
      <div class="card-body p-5">
        <div class="d-flex align-items-center">
          <!-- Upload Button -->
          <button
            class="btn btn-outline-info me-2"
            type="button"
            id="uploadBtn"
            style="width: 120px;
             white-space: nowrap;
             font-size: 0.85rem;"
            @click="handleUpload">
             Upload <br/> <small>(.txt, .pdf, .docx)</small>
          </button>
          
          <!-- Hidden File Input -->
          <input
            ref="fileInput"
            type="file"
            accept=".txt,.pdf,.docx"
            @change="onFileSelected"
            style="display: none;"
           />
          
          <!-- Text Input -->
          <textarea
            v-model="messageText"
            class="form-control border-0 flex-grow-1"
            id="messageInput"
            placeholder="Enter or paste your discussion for analysis here..."
            rows="2"
            style="min-height: 60px; max-height: 120px; border: 1px solid #000;"
            @input="checkSendButton"
           ></textarea>
          
          <!-- Send Button -->
          <button
            class="btn btn-outline-info px-3 ms-2 align-self-stretch"
            type="button"
            id="sendBtn"
            :disabled="!canSend"
            @click="handleSend">
            <i class="bi bi-send"></i>
          </button>
        </div>
        
        <!-- File Upload Status -->
        <div v-if="uploadedFile" class="mt-3 text-start">
          <small class="text-success">
            <i class="bi bi-file-earmark-check"></i>
             File uploaded: {{ uploadedFile.name }}
          </small>
        </div>
        
        <!-- Analysis Results -->
        <div v-if="analysisResult" class="mt-4 text-start">
          <h5 class="text-white">Analysis Result:</h5>
            <div class="p-3 rounded" style="background-color: #414141;">
            <pre class="text-light mb-0">{{ analysisResult }}</pre>
        </div>
      </div>
    </div>
    
    <!-- Footer Tip -->
    <small class="text-white">{{ currentTip }}</small>
    
    <!-- Logo -->
    <div class="mt-4">
      <img src="armins-logo.png"
           alt="Logo displaying the word ArMins..."
           class="img-fluid"
           style="max-width: 200px; height: auto;">
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>